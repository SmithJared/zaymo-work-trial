# Implementation Plan: Frontend HTML-email url shortener service

**Generated by ChatGPT**
**Reviewed/Modified by Jared Smith**

## 1. Project Setup & Configuration ‚öôÔ∏è
First, we'll create a new React project using Vite for its speed and simplicity. Then we'll add and configure Tailwind CSS.

Create the React + TypeScript Project
Open your terminal and run the following command:

```bash
bun create vite@latest html-url-extractor -- --template react-ts
```

This creates a new project in a folder named html-url-extractor. Now, navigate into the new directory:

```bash
cd html-url-extractor
```

Install and Configure Tailwind CSS
Next, install Tailwind and its peer dependencies, then generate the necessary configuration files.

```bash
npm install -D tailwindcss postcss autoprefixer
npx tailwindcss init -p
```

This creates tailwind.config.js and postcss.config.js.

Configure Tailwind's Template Paths
Open tailwind.config.js and tell Tailwind where your component files are located so it can scan them for classes.

```JavaScript

/** @type {import('tailwindcss').Config} */
export default {
  content: [
    "./index.html",
    "./src/**/*.{js,ts,jsx,tsx}", // Add this line
  ],
  theme: {
    extend: {},
  },
  plugins: [],
}
```

Add Tailwind Directives to CSS
Finally, open src/index.css, delete its contents, and add the three main Tailwind directives.

```CSS

@tailwind base;
@tailwind components;
@tailwind utilities;
```

Now, run the development server to make sure everything is working:
bun run dev

## 2. Component Structure üèóÔ∏è

We'll break the application down into small, reusable components. This keeps our code clean and organized.

* App.tsx: The main component that will hold the application state (like the list of URLs) and orchestrate the other components.
* FileUploader.tsx: A component responsible for the file input UI and logic. It will notify the App component when a file is selected.
* UrlList.tsx: A component dedicated to displaying the list of extracted URLs.
* Create a components folder inside src to hold FileUploader.tsx and UrlList.tsx.

## 3. State Management & Logic üß†

We'll use React's useState hook inside the App.tsx component to manage the application's state.

We will need state for three things:
* urls: An array of strings (string[]) to store the final list of extracted URLs.
* fileName: A string (string | null) to display the name of the currently selected file.
* status: A string to track the current state of the app ('idle', 'processing', or 'success'). This helps in showing different UI messages.

The core parsing logic (using FileReader and DOMParser) will live in a handler function within App.tsx. This function will be passed down as a prop to the FileUploader component.

## 4. Code Implementation üíª
Here is the code for each of the components.

src/components/UrlList.tsx
This component receives the list of URLs and displays them.

```TypeScript

// src/components/UrlList.tsx

interface UrlListProps {
  urls: string[];
  status: 'idle' | 'processing' | 'success';
}

export default function UrlList({ urls, status }: UrlListProps) {
  return (
    <div className="w-full max-w-2xl bg-white p-6 rounded-lg shadow-md mt-8">
      <h2 className="text-xl font-semibold mb-4 text-gray-700">Extracted URLs</h2>
      {status === 'idle' && <p className="text-gray-500">Please select an HTML file to begin.</p>}
      {status === 'processing' && <p className="text-blue-500">Processing file...</p>}
      {status === 'success' && (
        urls.length > 0 ? (
          <pre className="bg-gray-50 p-4 rounded-md max-h-96 overflow-auto text-sm">
            {urls.join('\n')}
          </pre>
        ) : (
          <p className="text-gray-500">No absolute URLs (starting with http/https) were found.</p>
        )
      )}
    </div>
  );
}
```

src/components/FileUploader.tsx
This handles the file input UI. It calls a function from its props when a file is selected.

```TypeScript

// src/components/FileUploader.tsx

import { ChangeEvent } from 'react';

interface FileUploaderProps {
  onFileSelect: (file: File) => void;
  fileName: string | null;
}

export default function FileUploader({ onFileSelect, fileName }: FileUploaderProps) {
  const handleFileChange = (event: ChangeEvent<HTMLInputElement>) => {
    if (event.target.files && event.target.files.length > 0) {
      onFileSelect(event.target.files[0]);
    }
  };

  return (
    <div className="w-full max-w-2xl">
      <label
        htmlFor="file-upload"
        className="flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer bg-white hover:bg-gray-50 transition-colors"
      >
        <div className="flex flex-col items-center justify-center pt-5 pb-6">
          <svg className="w-8 h-8 mb-4 text-gray-500" /* SVG icon here */ > ... </svg>
          <p className="mb-2 text-sm text-gray-500">
            <span className="font-semibold">Click to upload</span> or drag and drop
          </p>
          <p className="text-xs text-gray-500">HTML files only (.html, .htm)</p>
        </div>
        <input id="file-upload" type="file" className="hidden" accept=".html,.htm" onChange={handleFileChange} />
      </label>
      {fileName && (
        <p className="mt-4 text-center text-sm text-green-600 font-medium">
          File selected: {fileName}
        </p>
      )}
    </div>
  );
}
```

src/App.tsx
This is the main component that ties everything together.

```TypeScript

// src/App.tsx

import { useState } from 'react';
import FileUploader from './components/FileUploader';
import UrlList from './components/UrlList';

type Status = 'idle' | 'processing' | 'success';

function App() {
  const [urls, setUrls] = useState<string[]>([]);
  const [fileName, setFileName] = useState<string | null>(null);
  const [status, setStatus] = useState<Status>('idle');

  const handleFileSelect = (file: File) => {
    setStatus('processing');
    setFileName(file.name);
    setUrls([]);

    const reader = new FileReader();

    reader.onload = (e) => {
      const content = e.target?.result as string;
      if (content) {
        const parser = new DOMParser();
        const doc = parser.parseFromString(content, 'text/html');
        const uniqueUrls = new Set<string>();
        
        doc.querySelectorAll('a[href], link[href], img[src], script[src]').forEach(el => {
          const url = el.getAttribute('href') || el.getAttribute('src');
          if (url && (url.startsWith('http://') || url.startsWith('https://'))) {
            uniqueUrls.add(url);
          }
        });

        setUrls(Array.from(uniqueUrls).sort());
        setStatus('success');
      }
    };

    reader.readAsText(file);
  };

  return (
    <main className="min-h-screen bg-slate-50 flex flex-col items-center p-4 sm:p-8">
      <div className="text-center mb-8">
        <h1 className="text-4xl font-bold text-gray-800">HTML URL Extractor</h1>
        <p className="text-lg text-gray-600 mt-2">Upload an HTML file to extract all of its URLs.</p>
      </div>

      <FileUploader onFileSelect={handleFileSelect} fileName={fileName} />
      <UrlList urls={urls} status={status} />
    </main>
  );
}

export default App;
```
